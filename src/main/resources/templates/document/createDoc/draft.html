<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">

<!--<th:block layout:fragment="title">title</th:block>-->

<th:block layout:fragment="addMore">
    <link rel="stylesheet" type="text/css" th:href="@{/css/document/createDoc/draft.css}" href="/static/css/document/createDoc/draft.css">
    <script th:src="@{/js/document/createDoc/draft.js}" src="/static/js/document/createDoc/draft.js"></script>
    <script th:inline="javascript">
        function submit2(form) {
            form.action = '/createDoc/temp';
            form.submit();
            return true;
        }
    </script>
</th:block>

<main layout:fragment="content">
    <h1 class="frag-title" th:text="|${docForm?.formName} 작성|">기안서 작성</h1>
    <div class="preview-layout">
        <div class="inputs-div page-shadow">
            <h2 th:if="${param.status}" th:text="'상신 되었습니다.'"></h2>
            <h2 th:if="${param.tmpStatus}" th:text="'임시저장 되었습니다.'"></h2>

            <form method="post" th:object="${document}">
            <div th:text="|${docForm?.formCode} ${docForm?.formName}|">A01 기안서</div>
                <input type="hidden" name="docForm.formCode" th:value="${docForm?.formCode}">

                긴급 <input type="checkbox" th:field="*{urgent}" id="urgent">

                <div>
                <span class="doc-input-lbl">기안일</span>
<!--                :<input type="datetime-local" class="doc-readonly" th:value="${document?.docDate}" readonly>-->
                    : <span th:text="${#dates.format(#dates.createToday(), 'yyyy년 MM월 dd일')}"></span>
                </div>
                <div>
                    <span class="doc-input-lbl">기안자</span>
                    <!--                :<input type="text" class="doc-readonly" th:value="${document?.docWriter?.empName}" readonly>-->
                    : <span th:text="${empName}"></span>
<!--                    <input type="hidden" name="document.docWriter.empName" th:value="${empName}">-->
                </div>

            <div class="hr"><hr></div>

            1차 결재자 :
<!--            <div th:text="${apv1.approver}"></div>-->
            <button type="button" class="btn" style="background-color:#43946f;border:none;color:white;box-shadow:0px 3px 4px rgba(0, 0, 0, 0.25);"
                    data-bs-toggle="modal" data-bs-target="#selectEmpModal">
                사원찾기
            </button>

            2차 결재자 :
<!--            <div th:text="${apv2.approver}"></div>-->
            <button type="button" class="btn" style="background-color:#43946f;border:none;color:white;box-shadow:0px 3px 4px rgba(0, 0, 0, 0.25);"
                    data-bs-toggle="modal" data-bs-target="#selectEmpModal">
                사원찾기
            </button>

            <div class="hr"><hr></div>

            참조인 :
<!--            <div th:text="${doc.refEmp}"></div>-->
<!--            라디오가 아닌 체크박스로 변경-->
            <button type="button" class="btn" style="background-color:#43946f;border:none;color:white;box-shadow:0px 3px 4px rgba(0, 0, 0, 0.25);"
                    data-bs-toggle="modal" data-bs-target="#selectEmpModal">
                사원찾기
            </button>

            <div class="hr"><hr></div>

            첨부파일 :
            <input type="file" multiple>

            <div class="hr"><hr></div>

                    제목 : <input type="text" th:field="*{docTitle}">
<!--                    제목 : <input type="text" name="docTitle" th:field="*{docTitle}">-->
                <textarea th:field="*{docContent}" placeholder="내용을 입력하세요."></textarea>

                <button class="cancel-button" type="button" th:onclick="|location.href='@{/document/createDoc}'|" th:text="목록으로">목록으로</button>
                <button class="edit-button" type="button" onclick="return submit2(this.form);" th:text="임시저장">임시저장</button>
                <button class="register-button"  type="submit" th:text="상신">상신</button>







                <h1>모달 내용</h1>
                <h1 th:text="${document?.docTitle}"></h1>
<!--                <h1 th:text="${document?.docWriterId}"></h1>-->

                <div id="searchModalContainer">
                    <!--                <input id="searchBar" type="text" th:ref="${myInputRef}" th:value="${search}" th:style="${inputStyle}" th:placeholder="'장소명을 검색하세요.'" th:onchange="${onChange}" />-->
                    <i id="magnifierIcon" class="fa-solid fa-magnifying-glass"></i>
<!--                    제목 : <input type="text" name="docTitle" th:field="*{docTitle}">-->

<!--                    <div class="form-check">-->

<!--                        <div th:each="employee : ${employees}" class="form-check form-check-inline">-->
<!--                            <input type="radio" th:field="*{docWriter.empId}" th:value="${employee.empId}" class="form-check-input">-->
<!--                            <label th:for="${#ids.prev('employee')}" th:text="${employee.empName}" class="form-check-label">-->
<!--                                Employee-->
<!--                            </label>-->
<!--                        </div>-->

<!--                    </div>-->
                </div>

<!--                <div th:insert="~{document/createDoc/selectEmp::modal}"></div>-->
            </form>


        </div>


    <div class="a4-box page-shadow">
        <div id="print-div">
            <h1 class="doc-type-name">업 무 기 안 서</h1>
            <div class="top-box">
                <table class="drafter-box">
                    <tr>
                        <th rowspan="2">신청</th>
                        <th>사원</th>
                    </tr>
                    <tr>
                        <td class="stamp-box">(홍길동인)</td>
                    </tr>
                </table>
                <table class="approver-box">
                    <tr>
                        <th rowspan="2">승인</th>
                        <th>직급</th>
                        <th>직급</th>
                    </tr>
                    <tr>
                        <td class="stamp-box">(김팀장인)</td>
                        <td class="stamp-box">(김사장인)</td>
                    </tr>
                    <tr>
                    </tr>
                </table>
            </div>

            <div class="middle-box">
                <table class="doc-info-box">
                    <tr class="approver">
                        <td class="col-th">기안자</td>
                        <td>내용</td>
                    </tr>
                    <tr class="doc-info">
                        <td class="col-th">소속</td>
                        <td>내용</td>
                    </tr>
                    <tr class="doc-content">
                        <td class="col-th">기안일</td>
                        <td>내용</td>
                    </tr>
                    <tr class="doc-content">
                        <td class="col-th">문서번호</td>
                        <td>내용</td>
                    </tr>
                    <tr class="doc-content">
                        <td class="col-th">참조인</td>
                        <td>내용</td>
                    </tr>
                </table>
                <table class="doc-content-box">
                    <tr class="approver">
                        <td class="col-th">제목</td>
                        <td th:text="${document?.docTitle}">내용</td>
                    </tr>
                    <tr class="doc-info">
                        <td class="col-th">내용</td>
                        <td th:text="${document?.docContent}">내용</td>
                    </tr>
                </table>
                <table class="attached-files-box">
                    <tr class="attached-files">
                        <td class="col-th">첨부파일</td>
                        <td>내용</td>
                    </tr>
                </table>
            </div>

        </div>
    </div>
    </div>

</main>
</html>