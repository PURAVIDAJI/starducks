<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="register">
    <h1 th:text="사원등록"></h1>
    <form id="form" th:action="@{/hr/emp/save}" method="post" th:object="${employee}"  enctype="multipart/form-data" autocomplete="off">
        <div class="photos">
            <div class="photo">
                <img class="img" id="profileImg" src="#" alt="Profile Image">
                <input type="file" name="profile" id="profile" accept="image/*" style="display: none">
                <p>프로필사진</p>
            </div>
            <div class="photo">
                <img class="img" id="stampImg" src="#" alt="Stamp Image">
                <input type="file" name="stamp" id="stamp" accept="image/*" style="display: none">
                <p>도장사진</p>
            </div>
        </div>
        <div id="formSection">
            <section>
                <dl>
                    <dt>사원번호</dt>
                    <dd>
                        <input type="text" th:value="${id}" disabled>
                    </dd>
                </dl>
<!--                <dl>-->
<!--                    <dt>초기비밀번호</dt>-->
                    <dd><input type="hidden" th:field="*{pwd}" name="pwd" id="pwd"></dd>
<!--                </dl>-->
                <dl>
                    <dt>사원이름</dt>
                    <dd>
                        <input type="text" th:field="*{empName}">
                        <div class="error" th:if="${#fields.hasErrors('empName')}" th:errors="*{empName}"></div>
                    </dd>

                </dl>
                <dl>
                    <dt>연락처</dt>
                    <dd>
                        <input type="text" th:field="*{empTel}">
                        <div class="error" th:each="err : ${#fields.errors('empTel')}" th:text="${err}"></div>
                    </dd>

                </dl>
                <dl>
                    <dt>이메일</dt>
                    <dd>
                        <input type="text" th:field="*{email}">
                        <div class="error" th:each="err : ${#fields.errors('email')}" th:text="${err}"></div>
                    </dd>

                </dl>
                <dl>
                    <dt>성별</dt>
                    <dd>
                        남 <input type="radio" name="a" value="man" th:field="*{gender}">
                        여 <input type="radio" name="a" value="woman" th:field="*{gender}">
                        <div class="error" th:each="err : ${#fields.errors('gender')}" th:text="${err}"></div>
                    </dd>
                </dl>
                <dl>
                    <dt>생년월일</dt>
                    <dd>
                        <input type="date" th:field="*{birth}">
                    </dd>
                </dl>
            </section>
            <section>
                <dl>
                    <dt>부서</dt>
                    <dd>
                        <input type="checkbox" id="all1" class="selectbox box1">
                        <label for="all1" id="allLabel1">전체<img th:src="@{/images/dropdown.png}" class="drop"></label>

                        <ul id="options1" style="display: none">
                            <li class="option1" th:each="dept : ${depts}" th:field="${dept}" th:value="${dept.deptId}">
                                <th:block th:text="${dept.deptName}"></th:block>
                            </li>
                        </ul>
                        <input id="dept" type="hidden" th:field="*{dept}">
                        <div class="error" th:each="err : ${#fields.errors('dept')}" th:text="${err}"></div>
                    </dd>
                </dl>

                <dl>
                    <dt>직급</dt>
                    <dd>
                        <input type="checkbox" id="all2" class="selectbox box2">
                        <label for="all2" id="allLabel2" >전체<img th:src="@{/images/dropdown.png}" class="drop"></label>

                        <ul id="options2" style="display: none">
                            <li class="option2" th:each="position : ${positions}" th:field="${position}" th:value="${position}">
                                <th:block th:if="${position.toString() == 'ROLE_BOSS'}" th:text="사장"></th:block>
                                <th:block th:if="${position.toString() == 'ROLE_DEPTLEADER'}" th:text="부장"></th:block>
                                <th:block th:if="${position.toString() == 'ROLE_TEAMLEADER'}" th:text="팀장"></th:block>
                                <th:block th:if="${position.toString() == 'ROLE_EMPLOYEE'}" th:text="사원"></th:block>
                                <th:block th:if="${position.toString() == 'ROLE_STOREMANAGER'}" th:text="점장"></th:block>
                            </li>
                        </ul>
                        <input id="position" type="hidden" th:field="*{position}">
                        <div class="error" th:each="err : ${#fields.errors('position')}" th:text="${err}"></div>
                    </dd>
                </dl>

                <dl>
                    <dt>입사일자</dt>
                    <dd>
                        <input type="date" th:field="*{joinDate}">
                        <div class="error" th:each="err : ${#fields.errors('joinDate')}" th:text="${err}"></div>
                    </dd>

                </dl>

                <dl>
                    <dt>퇴사여부</dt>
                    <dd>
                        퇴사 <input type="radio" name="a" value="true" th:field="*{status}">
                        재직 <input type="radio" name="a" value="false" th:field="*{status}">
                        <div class="error" th:each="err : ${#fields.errors('status')}" th:text="${err}"></div>
                    </dd>
                </dl>

                <dl>
                    <dt>퇴사일자</dt>
                    <dd><input type="date" th:field="*{leaveDate}" disabled></dd>
                </dl>
                <dl>
                    <dt>주소</dt>
                    <dd>
<!--                        <input class="postNo" type="text" th:field="*{postNo}">-->
                        <div th:replace="~{hr/emp/_postNo::searchPost}"></div>
                        <div class="error" th:each="err : ${#fields.errors('postNo')}" th:text="${err}"></div>
                        <div class="error" th:each="err : ${#fields.errors('addr')}" th:text="${err}"></div>
                        <div class="error" th:each="err : ${#fields.errors('dAddr')}" th:text="${err}"></div>
                    </dd>
                </dl>
<!--                <dl>-->
<!--                    <dt>주소</dt>-->
<!--                    <dd><input type="text" th:field="*{addr}"> </dd>-->
<!--                </dl>-->
<!--                <dl>-->
<!--                    <dt>상세주소</dt>-->
<!--                    <dd><input type="text" th:field="*{dAddr}"> </dd>-->
<!--                </dl>-->
            </section>
        </div>
        <div class="btns">
            <button class="commonBtn register-button">등록</button>
            <a th:href="@{/hr/emp}"><p class="commonBtn cancel-button">취소</p></a>
        </div>
    </form>
</th:block>
</html>