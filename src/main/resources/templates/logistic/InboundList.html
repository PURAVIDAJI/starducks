<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">

<!--title-->
<th:block layout:fragment="title">logistic</th:block>
<th:block layout:fragment="addMore">
    <link rel="stylesheet" type="text/css" th:href="@{/css/logistic/style.css}">
    <script th:src="@{/js/logistic/script.js}"></script>
</th:block>


<main layout:fragment="content">
    <h1>입고 목록</h1>
    <div class="content">
        <div class="right-top-btn">
        <a th:href="@{/logistic/warehouseinbound/add}" >
            <button class="commonBtn register-button" type="submit"> + 입고 등록 </button>
        </a>
        </div>

            <table class="styled-table">
                <label>
                    <input type="checkbox" id="bulkInboundCheckbox" name="bulkInboundCheckbox" th:checked="${checkbox}" onchange="handleCheckboxClick()">
                    <input type="hidden" name="_bulkInboundCheckbox" value="on">
                    대량 입고
                </label>

                <!-- Thymeleaf에서 값을 출력해보기 -->
                <input type="text" th:value="${checkbox}" readonly>

                <thead>
                <tr>
                    <th>입고번호</th><th>입고일자</th><th>담당자</th><th>총입고수량</th><th>구분</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="i:${inbounds}">

                    <td>
                        <a th:text="${i.warehouseInboundId}" th:href="@{/logistic/warehouseinbound/info/{Id}(Id=${i.warehouseInboundId})}">
                            주문 Id
                        </a>
                    </td>

                    <td th:text="${i.getWarehouseInboundDate()}">입고일자</td>
                    <td  th:text="${i.getEmployee().getEmpName()}">담당자 명</td>
                    <td  th:text="${i.getTotalQuantity()}">총 입고수량</td>
                    <td >비고</td>
                </tr>

                </tbody>

            </table>



    </div>
    <script th:inline="javascript">

        function handleCheckboxClick() {
            var isChecked = document.getElementById('bulkInboundCheckbox').checked;

            // AJAX로 서버에 데이터 전송
            var xhr = new XMLHttpRequest();
            xhr.open('GET', '/logistic/warehouseinbound/list?bulkInboundCheckbox=' + isChecked, true);
            xhr.send();
        }

    </script>
</main>
</html>